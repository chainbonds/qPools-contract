# solbond

## Setup instructions

### (0) Setup qPools SDK locally

Please always run a watcher that automatically compiles the SDK. 
This is to make sure that any modifications you make are immediately compiled, otherwise you might get weird bugs!

``` 
cd qpools-sdk
tsc --watch
```

``` 
cd qpools-admin-sdk
tsc --watch
```

Let this run in a background terimnal, and let this run anytime you might change something in the qpools-sdk, or qpools-admin-sdk package.

### (1) Building and Testing
run anchor build from 
make sure that you're in ```qPools-contract/solbond```

```
anchor build
```

from the same directory run 
```
npm run test:qPools
```



Debugging:
- "clean-install-npm-packages.sh" installs the dependencies
- Make sure the IDL generated by solbond is equivalent to the IDL saved within the SDK
- Make sure that your solana config is on devnet/localnet
- Make sure your anchor toml is on devnet/localnet


-------



### (2) Analyze wit Soteria Compiler


```
docker run -v $PWD/qPools-contract/solbond/:/workspace -it greencorelab/soteria:latest /bin/bash

cargo build-bpf
cd programs/solbond
soteria -analyzeAll .
```
